<!DOCTYPE html><html><head><meta name="generator" content="STX 0.1.0 alpha"><title>STX Documentation</title><link rel="stylesheet" type="text/css" href="assets/layout.css"><link rel="stylesheet" type="text/css" href="assets/style.css"></head><body data-type="book"><h1>STX Documentation</h1><p><nav data-type="toc"><h1>Table of Contents</h1><ol><li><a href="#stx" data-type="xref" data-number="1.">STX</a><ol><li><a href="#command-line-interface" data-type="xref" data-number="1.1.">Command Line Interface</a></li><li><a href="#example" data-type="xref" data-number="1.2.">Example</a></li></ol></li><li><a href="#features" data-type="xref" data-number="2.">Features</a><ol><li><a href="#structured-documents" data-type="xref" data-number="2.1.">Structured Documents</a></li><li><a href="#cross-references" data-type="xref" data-number="2.2.">Cross References</a></li><li><a href="#numbering" data-type="xref" data-number="2.3.">Numbering</a></li><li><a href="#output-format" data-type="xref" data-number="2.4.">Output Formats</a><ol><li><a href="#html" data-type="xref" data-number="2.4.1.">HTML</a></li><li><a href="#json" data-type="xref" data-number="2.4.2.">JSON</a></li></ol></li></ol></li><li><a href="#syntax" data-type="xref" data-number="3.">Syntax</a><ol><li><a href="#block-components" data-type="xref" data-number="3.1.">Block Components</a><ol><li><a href="#sections" data-type="xref" data-number="3.1.1.">Sections</a></li><li><a href="#lists" data-type="xref" data-number="3.1.2.">Lists</a></li><li><a href="#tables" data-type="xref" data-number="3.1.3.">Tables</a></li><li><a href="#captions" data-type="xref" data-number="3.1.4.">Captions</a></li><li><a href="#literal-block" data-type="xref" data-number="3.1.5.">Literal Block</a></li><li><a href="#capturing-block" data-type="xref" data-number="3.1.6.">Capturing Block</a></li><li><a href="#content-breaks" data-type="xref" data-number="3.1.7.">Content Breaks</a></li><li><a href="#paragraphs" data-type="xref" data-number="3.1.8.">Paragraphs</a></li></ol></li><li><a href="#inline-components" data-type="xref" data-number="3.2.">Inline Components</a><ol><li><a href="#rich-text" data-type="xref" data-number="3.2.1.">Rich Text</a></li><li><a href="#links" data-type="xref" data-number="3.2.2.">Links</a></li><li><a href="#symbols" data-type="xref" data-number="3.2.3.">Symbols</a></li><li><a href="#inline-capturing" data-type="xref" data-number="3.2.4.">Inline Capturing</a></li><li><a href="#function-call" data-type="xref" data-number="3.2.5.">Function Call</a></li></ol></li><li><a href="#attributes" data-type="xref" data-number="3.3.">Attributes</a></li><li><a href="#directives" data-type="xref" data-number="3.4.">Directives</a><ol><li><a href="#include-directive" data-type="xref" data-number="3.4.1.">Include Directive</a></li><li><a href="#output-directive" data-type="xref" data-number="3.4.2.">Output Directive</a></li><li><a href="#stylesheet-directive" data-type="xref" data-number="3.4.3.">Stylesheet Directive</a></li><li><a href="#meta-data-directives" data-type="xref" data-number="3.4.4.">Meta-data Directives</a></li></ol></li></ol></li><li><a href="#functions" data-type="xref" data-number="4.">Functions</a><ol><li><a href="#code" data-type="xref" data-number="4.1.">Code</a></li><li><a href="#images" data-type="xref" data-number="4.2.">Images</a></li><li><a href="#embed-content" data-type="xref" data-number="4.3.">Embed Content</a></li><li><a href="#table-of-contents" data-type="xref" data-number="4.4.">Table of Contents</a></li><li><a href="#admonitions" data-type="xref" data-number="4.5.">Admonitions</a></li></ol></li><li><a href="#data-syntax" data-type="xref" data-number="5.">Data Syntax</a><ol><li><a href="#token" data-type="xref" data-number="5.1.">Token</a></li><li><a href="#entry" data-type="xref" data-number="5.2.">Entry</a></li><li><a href="#group" data-type="xref" data-number="5.3.">Group</a></li></ol></li></ol></nav>
</p><section id="stx"><h1 data-number="1.">STX
</h1><p>STX is a markup language for creating documents.
It is designed to be simple enough to be easily read and written but at the 
same time powerful enough to allow creating complex documents.
</p><p>A document in STX is generated by a single self-describing text file that
must comply with the <a href="#syntax" data-type="xref">syntax</a> so it can be compiled.
External content can be included from other resources by using <a href="#directives" data-type="xref">directives</a>.
</p><p>Some of the patterns in the <a href="#syntax" data-type="xref">syntax</a> were inspired by other markup languages
like Markdown and AsciiDoc so the entry barrier was low.
</p><section id="command-line-interface"><h2 data-number="1.1.">Command Line Interface
</h2><p>The current STX implementation was written in 
<a href="https://www.python.org/downloads/">Python</a>
and can be installed
with <a href="https://pip.pypa.io/en/stable/installing/">pip</a>.
</p><figure id="installing-and-processing-a-document-"><pre data-type="programlisting" data-code-language="shell"># Install the latest stx version
pip install stx

# Process a document
stx index.stx

# Watch a document for changes
stx index.stx --watch
</pre><figcaption data-number="1.">Installing and processing a document.
</figcaption></figure><p>The source code can be found in the
<a href="https://github.com/stx-lang/python-stx">python-stx</a>
repository in GitHub.
</p></section><section id="example"><h2 data-number="1.2.">Example
</h2><p>This document is a living example of the capabilities of STX,
the source code can be found in the file
<a href="https://github.com/stx-lang/docs/blob/master/index.stx">index.stx</a>
in the 
<a href="https://github.com/stx-lang/docs">docs</a> 
repository in GitHub.
</p></section></section><section id="features"><h1 data-number="2.">Features
</h1><p>Most of the features are oriented to help to create technical and academic
documents.
</p><section id="structured-documents"><h2 data-number="2.1.">Structured Documents
</h2><p>The text written in STX generates documents represented by a hierarchical 
component structure.
Building a document using components makes it possible to have &ldquo;infinite&rdquo;
nesting and the option to render it to multiple output formats.
</p><p><a id="nesting-rules"></a>Nesting rules are based on the text alignment. Whenever there is block mark, 
the content can be nested following the alignment of the subsequent text. 
The content can be broken just by breaking the alignment or by using a <code>%</code> 
(percentage symbol).
</p><figure id="example-of-nested-components-"><pre data-type="programlisting" data-code-language="stx"><span class="stx">|= Column 1 | Column 2
|- Cell     | - Nested list (item 1).
              - Item 2 with nested code block.
                +++ code
                This is nested in item2.
                +++
</span></pre><figcaption data-number="2.">Example of nested components.
</figcaption></figure></section><section id="cross-references"><h2 data-number="2.2.">Cross References
</h2><p>Since the STX documents are structured, cross references are easy to 
generate and validate. Text between brackets are considered links, the 
target reference can be customized by appending it between parenthesis 
Broken references are validated generating a warning.
</p><figure id="different-ways-to-create-links-"><pre data-type="programlisting" data-code-language="stx"><span class="stx">[Simple link]
[Link with explicit reference](this the reference)
[External link](http://www.example.com)
</span></pre><figcaption data-number="3.">Different ways to create links.
</figcaption></figure><p>The matching algorithm for validating references ignores the case and only 
considers words using ASCII letters and numbers. 
A reference like <code>[this]</code> is equivalent than <code>[THIS]</code>.
</p><p>Only <a href="#sections" data-type="xref">sections</a> can be automatically referenced by using the heading text,
if a section attempts to create duplicated references, the algorithm
starts appending a number.
</p><p>Custom references are supported by adding the <code>ref</code> attribute to any 
component.
</p><figure id="custom-references-"><pre data-type="programlisting" data-code-language="stx"><span class="stx">@ref(`other options`, `more options`)
- Other option 1.
- Other option 2.

Please see [other options], it also works with [more options].
</span></pre><figcaption data-number="4.">Custom references.
</figcaption></figure></section><section id="numbering"><h2 data-number="2.3.">Numbering
</h2><p>Since the documents in STX are organized by sections, they can be easily 
numbered. Each section, figure and table are automatically numbered.
</p><p>Additionally, there is a function for generating a <a href="#table-of-contents" data-type="xref">Table of Contents</a>.
All numbers of sections, figures and tables of this document were 
auto-generated as well as the table of contents.
</p></section><section id="output-format"><h2 data-number="2.4.">Output Formats
</h2><p>While develop a new output format is not a trivial task, 
STX is designed to be modular so that the output formats can be plugged in. 
The current supported output formats are described in this section.
</p><p>Since STX document are stand-alone, the output format is specified by using
directives in the same document. A document can have any number of output
formats.
</p><section id="html"><h3 data-number="2.4.1.">HTML
</h3><p>This output format generates one single HTML5 file. The document structure 
is completely based on the <a href="https://oreillymedia.github.io/HTMLBook/">HTMLBook</a> 
specification, a great unofficial draft from O’Reilly Media, Inc.
</p><figure id="specifying-the-html-output-format-in-a-document"><pre data-type="programlisting" data-code-language="stx"><span class="stx">#output(format: html, target: index.html)
</span></pre><figcaption data-number="5.">Specifying the HTML output format in a document.
</figcaption></figure><p>Since this is the main format for rendering STX documents, some directives
are optimized for HTML, example:
</p><figure id="linking-css-stylesheets-in-a-document-"><pre data-type="programlisting" data-code-language="stx"><span class="stx">#stylesheets(
    assets/layout.css,
    assets/style.css
)
</span></pre><figcaption data-number="6.">Linking CSS stylesheets in a document.
</figcaption></figure><p>Another useful feature for creating HTML documents is the <code>embed</code> function,
which integrates the content from another file directly in the document.
</p><figure id="embedding-an-html-fragment-into-the-document"><pre data-type="programlisting" data-code-language="stx"><span class="stx">&lt;embed(assets/layout.html)&gt;
</span></pre><figcaption data-number="7.">Embedding an HTML fragment into the document.
</figcaption></figure></section><section id="json"><h3 data-number="2.4.2.">JSON
</h3><p>This output format generates a JSON file with the raw structure of the 
document. This format is not optimized for human reading but can be useful
for debugging and using it with other tools.
</p><figure id="specifying-the-json-output-format-in-a-document"><pre data-type="programlisting" data-code-language="stx"><span class="stx">#output(format: json, target: index.json)
</span></pre><figcaption data-number="8.">Specifying the JSON output format in a document.
</figcaption></figure></section></section></section><section id="syntax"><h1 data-number="3.">Syntax
</h1><p>The STX syntax is stricter than other markup languages. 
Having a malformed component will cause a compilation error.
</p><p>Since this is a markup language as well, the marks in the text together 
with the text alignment makes it possible to create complex documents.
This section describes the different types of marks and its syntax.
</p><section id="block-components"><h2 data-number="3.1.">Block Components
</h2><p>This type of components are able to contain more components inside, 
they are the building blocks for a document.
</p><p>Block marks are not recognized inside inline content, consequently,
paragraphs cannot begin with a block mark.
</p><p>When several block components are defined sequentially, they can even be
considered as a single composite component.
</p><section id="sections"><h3 data-number="3.1.1.">Sections
</h3><p>There are 6 levels of sections, they can be created by repeating the <code>=</code> 
(equal symbol). The number of symbols represents the level of the section.
The content of the section must be aligned with the section mark.
</p><figure id="section-syntax-"><pre data-type="programlisting"><p>=== <a href="#block-components" data-type="xref">Heading Content</a>
</p><p><a href="#block-components" data-type="xref">Section Content</a>
</p></pre><figcaption data-number="9.">Section syntax.
</figcaption></figure><p>Compared with other markup languages, sections here are not just titles, 
they contain all subsequent components <strong>until a section with a level equal 
or less is found</strong>.
</p><figure id="example-of-nested-sections-"><pre data-type="programlisting" data-code-language="stx"><span class="stx">= Section A (1.)
== Section B (1.1, inside A)
=== Section C (1.1.1, inside B)
=== Section D (1.1.2, inside B)
=== Section E (1.1.3, inside B)
== Section F (1.2, inside A)
=== Section G (1.2.1., inside F)
=== Section H (1.2.2, inside F)
= Section I (2.)
== Section J (2.1, inside I)
== Section K (2.2, inside I)
</span></pre><figcaption data-number="10.">Example of nested sections.
</figcaption></figure></section><section id="lists"><h3 data-number="3.1.2.">Lists
</h3><p>There are two kind of lists: unordered and ordered, they can be created by
using the <code>-</code> (dash symbol) and <code>.</code> (period symbol) respectively.
</p><div data-type="layout" data-dir="row"><div data-type="layout-item"><figure><pre data-type="programlisting">- <a href="#block-components" data-type="xref">Item 1 Content</a>
- <a href="#block-components" data-type="xref">Item 2 Content</a>
- <a href="#block-components" data-type="xref">Item N Content</a>
</pre><figcaption>Bulleted list syntax.
</figcaption></figure></div><div data-type="layout-item"><figure><pre data-type="programlisting">. <a href="#block-components" data-type="xref">Item 1 Content</a>
. <a href="#block-components" data-type="xref">Item 2 Content</a>
. <a href="#block-components" data-type="xref">Item N Content</a>
</pre><figcaption>Numbered list syntax.
</figcaption></figure></div></div><p>The content of the items can be any supported component as long as the 
<a href="#nesting-rules" data-type="xref">nesting rules</a> are followed.
</p></section><section id="tables"><h3 data-number="3.1.3.">Tables
</h3><p>Tables are created by gathering rows, the mark for heading rows is <code>|=</code> 
(pipe and equal symbols) and for normal rows is <code>|-</code> (pipe and dash symbol). 
</p><p>The content of a row represents a cell, more cells can be added to the row 
by using the <code>|</code> (pipe symbol), this cell mark can be used inline, in other 
words, multiple cells can be defined in a single line.
</p><figure id="table-syntax-"><pre data-type="programlisting">|= <a href="#block-components" data-type="xref">Heading 1 Content</a> | Heading 2 Content | Heading N Content
|- <a href="#block-components" data-type="xref">Cell 1,1 Content</a>  | Cell 2,1 Content  | Cell N,1 Content
|- <a href="#block-components" data-type="xref">Cell 1,2 Content</a>  | Cell 2,2 Content  | Cell N,2 Content
|- <a href="#block-components" data-type="xref">Cell 1,N Content</a>  
   | Cell 2,N Content
   | Cell N,N Content
</pre><figcaption data-number="11.">Table syntax.
</figcaption></figure><div data-type="information"><p>The number of cells per row is not required to match.
</p></div></section><section id="captions"><h3 data-number="3.1.4.">Captions
</h3><p>Captions are not components <em>per se</em>, they are used to create or change 
other components:
</p><ul><li>When using captions with tables, the caption becomes part of the table.
</li><li>Captions used with any other component creates a figure, the other component
gets wrapped by the figure.
</li></ul><p>There are two ways to apply a caption to a component:
</p><ul><li><strong>Before the component</strong>: They are created by using <code>::</code> (two colon symbols)
and must be placed before the target component at the same alignment.
</li><li><strong>After the component</strong>: They are created by using <code>:^</code> (colon and caret 
symbols) and must be placed after the target component at the same alignment.
</li></ul><div data-type="layout" data-dir="row"><div data-type="layout-item"><figure><pre data-type="programlisting"><p>:: <a href="#block-components" data-type="xref">Caption Content</a>
</p><p><a href="#block-components" data-type="xref">Target Component</a>
</p></pre><figcaption>Pre-caption syntax.
</figcaption></figure></div><div data-type="layout-item"><figure><pre data-type="programlisting"><p><a href="#block-components" data-type="xref">Target Component</a>
</p><p>:^ <a href="#block-components" data-type="xref">Caption Content</a>
</p></pre><figcaption>Post-caption syntax.
</figcaption></figure></div></div></section><section id="literal-block"><h3 data-number="3.1.5.">Literal Block
</h3><p>This component is allowed to contain raw text which won&apos;t be parsed by STX. 
The text must be delimited by <code>+++</code> (three plus symbols); one line before
and one line after.
</p><figure id="simple-literal-component-"><pre data-type="programlisting" data-code-language="stx"><span class="stx">+++
This text is not parsed by *STX*, so it _should_ be rendered as it is.
+++
</span></pre><figcaption data-number="12.">Simple literal component.
</figcaption></figure><p>Optionally, the raw text can be processed by a function to decorate it or
create a richer component.
The function must be indicated by an <a href="#entry" data-type="xref">entry</a> right after the first <code>+++</code> 
mark (there can by any amount of spaces in between).
</p><figure id="code-block-component-produced-by-a-processed"><pre data-type="programlisting" data-code-language="stx"><span class="stx">+++ code:js
console.log(&apos;Hello world!&apos;);
+++
</span></pre><figcaption data-number="13.">Code block component produced by a processed literal.
</figcaption></figure><div data-type="information"><p>See the <a href="#functions" data-type="xref">functions</a> sections for more details.
</p></div></section><section id="capturing-block"><h3 data-number="3.1.6.">Capturing Block
</h3><p>This component creates a group of components which can be processed by a
function to decorate them or create a richer component. The components
must be delimited by <code>{{{</code> (three left curly braces) and <code>}}}</code> (three
right curly braces)
; one line before 
and one line after, the function must be indicated by an <a href="#entry" data-type="xref">entry</a> right 
after the first <code>{{{</code> mark (there can by any amount of spaces in between).
</p><figure id="admonition-box-produced-by-a-captured-paragraph"><pre data-type="programlisting" data-code-language="stx"><span class="stx">{{{ information
This text will be shown as an information admonition.
}}}
</span></pre><figcaption data-number="14.">Admonition box produced by a captured paragraph.
</figcaption></figure><div data-type="information"><p>See the <a href="#functions" data-type="xref">functions</a> sections for more details.
</p></div></section><section id="content-breaks"><h3 data-number="3.1.7.">Content Breaks
</h3><p>Any block component can be broken by using <code>%</code> (percentage symbol).
</p><figure id="section-content-broken-"><pre data-type="programlisting" data-code-language="stx"><span class="stx">= Section A

== Section B

Content of section B. Next block mark will break this section.

% 

This content now is inside the Section A.
</span></pre><figcaption data-number="15.">Section content broken.
</figcaption></figure></section><section id="paragraphs"><h3 data-number="3.1.8.">Paragraphs
</h3><p>Any other sequence of characters that doesn&apos;t match with a <a href="#block-mark" data-type="xref" data-status="invalid">block mark</a> is
considered a paragraph. The paragraphs are composed by a sequence of 
<a href="#inline-components" data-type="xref">inline components</a> and are broken by an empty line.
</p><figure id="two-paragraphs-"><pre data-type="programlisting" data-code-language="stx"><span class="stx">This is the paragraph #1.

This is the paragraph #2.
This line is part of the paragraph #2.
</span></pre><figcaption data-number="16.">Two paragraphs.
</figcaption></figure></section></section><section id="inline-components"><h2 data-number="3.2.">Inline Components
</h2><section id="rich-text"><h3 data-number="3.2.1.">Rich Text
</h3><p>There are some delimiter marks that can decorate the surrounded inline 
content for producing richer components. 
These marks can be nested as any other component in STX.
</p><table id="supported-delimited-text-components-"><caption data-number="1.">Supported delimited text components.
</caption><tr><th>Mark </th><th>Description </th><th>Example
</th></tr><tr><td><code>*</code> (asterisk symbol)     
</td><td>Strong text: normally rendered as bold text.
</td><td><code>Note: *This* is important!</code>
</td></tr><tr><td><code>_</code> (underscore symbol)   
</td><td>Emphasized text: normally rendered as cursive text.
</td><td><code>A.K.A text in _italics_.</code>
</td></tr><tr><td><code>`</code> (grave accent symbol) 
</td><td>Code sample text: normally rendered with a monospace typography.
</td><td><code>HTML uses the `&lt;code&gt;` tag.</code>
</td></tr><tr><td><code>~~</code> (two tilde symbols)
</td><td>Strike-through text: normally rendered with a horizontal line through 
its center.
</td><td><code>Use ~~one~~ two tilde symbols.</code>
</td></tr><tr><td><code>&quot;&quot;</code> (two double quotes symbol) 
</td><td>Inline typographic quotation primary marks: the text is surrounded 
with <code>“</code> and <code>”</code>.
</td><td><code>&quot;&quot;Primary&quot;&quot; marks.</code>
</td></tr><tr><td><code>&apos;&apos;</code> (two single quotes symbol) 
</td><td>Inline typographic quotation secondary marks: the text is surrounded
with <code>‘</code> and <code>’</code>.
</td><td><code>&apos;&apos;Secondary&apos;&apos; marks.</code>
</td></tr></table></section><section id="links"><h3 data-number="3.2.2.">Links
</h3><p>Links can create cross references for internal targets or hyperlinks for
the external ones. In order to create a link, the inline content must be
surrounded by <code>[</code> (left square bracket symbol) and <code>]</code> (right square 
bracket symbol), optionally, the target reference surrounded
by parenthesis should be appended immediately after the right bracket.
</p><figure id="different-ways-to-create-links-1"><pre data-type="programlisting" data-code-language="stx"><span class="stx">[Inline link with implicit reference.]
[Inline link.](with explicit reference)
</span></pre><figcaption data-number="17.">Different ways to create links.
</figcaption></figure></section><section id="symbols"><h3 data-number="3.2.3.">Symbols
</h3><p>There are some combinations of characters that generate specific symbols:
</p><table id="character-sequence-symbol-three-period-symbols"><tr><th>Character Sequence            </th><th>Symbol
</th></tr><tr><td><code>...</code> (three period symbols) </td><td><code>…</code> (ellipsis)
</td></tr></table></section><section id="inline-capturing"><h3 data-number="3.2.4.">Inline Capturing
</h3><p>Similar to the capturing blocks, inline content can be captured as well
by surrounding it with <code>{</code> and <code>}</code> (left and right brace symbols).
Captured text doesn&apos;t change too much by itself, it only gets grouped
and the rendered result is normally the same.
</p><figure id="the-captured-text-is-the-american-rock-band"><pre data-type="programlisting" data-code-language="stx"><span class="stx">&quot;&quot;Light My Fire&quot;&quot; is a song by {the American rock band *the Doors*}.
</span></pre><figcaption data-number="18.">The captured text is <code>the American rock band *the Doors*</code>.
</figcaption></figure><p>In order to generate richer content, the captured content can be processed 
by appending a <a href="#function-call" data-type="xref">function call</a> immediately after the <code>}</code> (right brace 
symbol).
</p></section><section id="function-call"><h3 data-number="3.2.5.">Function Call
</h3><p>To create a function call, an <a href="#entry" data-type="xref">entry</a> must be surrounded with <code>&lt;</code> and <code>&gt;</code>
(left and right angle bracket symbols). Functions calls can receive 
captured content and the arguments indicated in the entry.
</p><p>The name of the entry indicates the function and the value are the 
direct arguments. Captured content can be passed as argument by putting it
immediately before of a function call.
</p><figure id="different-ways-to-create-function-calls-"><pre data-type="programlisting" data-code-language="stx"><span class="stx">Click on the folder icon (&lt;img: folder.png&gt;).

Links are highlighted with {red}&lt;color:#FF0000&gt;.
</span></pre><figcaption data-number="19.">Different ways to create function calls.
</figcaption></figure></section></section><section id="attributes"><h2 data-number="3.3.">Attributes
</h2><p>All components can receive arguments, they are used mainly for changing how
it is rendered or just to provide meta information. 
</p><p>The arguments must be specified before the component and are created with
a <code>@</code> (at symbol) followed by an <a href="#entry" data-type="xref">entry</a>. The entry represents the name and
value of the attribute.
</p><figure id="section-marked-as-an-appendix-by-using-attributes"><pre data-type="programlisting" data-code-language="stx"><span class="stx">@type:appendix
= Appendix Title

Appendix content
</span></pre><figcaption data-number="20.">Section marked as an appendix by using attributes.
</figcaption></figure><p>The attributes which can accept all components are described in the table
below.
</p><table id="global-attributes-for-components-"><caption data-number="3.">Global attributes for components.
</caption><tr><th>Attribute </th><th>Accepted Values </th><th>Description
</th></tr><tr><td><code>ref</code>     
</td><td><a href="#token" data-type="xref">Token</a> or <a href="#group" data-type="xref">Group</a> of tokens.
</td><td>Defines how the component can be referenced by <a href="#links" data-type="xref">links</a>.
</td></tr></table></section><section id="directives"><h2 data-number="3.4.">Directives
</h2><p>Directives are instructions for the STX compiler, they are created by using
a <code>#</code> (number sign) followed by an <a href="#entry" data-type="xref">entry</a> representing the name and 
arguments of the directive.
</p><p>Unlike functions, that produce a component and are evaluated after the 
document is parsed, directives are evaluated immediately when they are 
found in the document and doesn&apos;t necessarily produce components.
</p><section id="include-directive"><h3 data-number="3.4.1.">Include Directive
</h3><p>Accepts a <a href="#token" data-type="xref">Token</a> or a <a href="#group" data-type="xref">Group</a> of tokens, the tokens represent the files
which are going to be included where the directive was placed.
</p><p>The specified files are relative to the current STX file, if the arguments 
contain a folder, the entire content of the folder is included recursively.
</p><figure id="include-examples-"><pre data-type="programlisting" data-code-language="stx"><span class="stx">#include(appendix.stx)

#include(appendix.stx, glossary.stx)
</span></pre><figcaption data-number="21.">Include examples.
</figcaption></figure></section><section id="output-directive"><h3 data-number="3.4.2.">Output Directive
</h3><p>Indicates the output format after processing the document. Accepts 
following arguments:
</p><ul><li><code>format</code>: Built-in values are <code>html</code> and <code>json</code>.
</li><li><code>target</code>: The file where the document should be generated.
</li><li><code>options</code>: Format-specific options.
</li></ul><figure id="output-directive-example-"><pre data-type="programlisting" data-code-language="stx"><span class="stx">#output(format: html, target: ./index.html)
</span></pre><figcaption data-number="22.">Output directive example.
</figcaption></figure></section><section id="stylesheet-directive"><h3 data-number="3.4.3.">Stylesheet Directive
</h3><p>This directive exists because HTML and other formats supports the use of 
stylesheets. It accepts a <a href="#token" data-type="xref">Token</a> or a <a href="#group" data-type="xref">Group</a> of tokens representing the
stylesheet files.
</p><figure id="stylesheets-directive-example-"><pre data-type="programlisting" data-code-language="stx"><span class="stx">#stylesheets(
    assets/layout.css,
    assets/style.css
)
</span></pre><figcaption data-number="23.">Stylesheets directive example.
</figcaption></figure></section><section id="meta-data-directives"><h3 data-number="3.4.4.">Meta-data Directives
</h3><p>There are some directives for defining document attributes, these values
are not necessarily rendered in the document.
</p><ul><li><code>title</code>: Defines the title of the document.
</li><li><code>author</code>: Defines the author of the document.
</li><li><code>encoding</code>: Defines the encoding of the document.
</li></ul><figure id="meta-data-directives-example-"><pre data-type="programlisting" data-code-language="stx"><span class="stx">#title(`STX Documentation`)
#author(`Sergio Pedraza`)
#encoding(`UTF-8`)
</span></pre><figcaption data-number="24.">Meta-data directives example.
</figcaption></figure></section></section></section><section id="functions"><h1 data-number="4.">Functions
</h1><p>In STX, functions can receive plain values and components as arguments to
generate new components. There are some built-in functions described in this
section, however, more functions can be registered at runtime since the
design is modular.
</p><p>Functions can be invoked by using following components:
</p><ul><li><a href="#literal-block" data-type="xref">Literal Block</a>: The literal text is sent as argument.
</li><li><a href="#capturing-block" data-type="xref">Capturing Block</a>: The captured component is sent as argument.
</li><li><a href="#function-call" data-type="xref">Function Call</a>: Only accepts plain arguments.
</li></ul><p>All allowed components can use plain values as arguments by sending them in 
the <a href="#entry" data-type="xref">entry</a>.
</p><section id="code"><h2 data-number="4.1.">Code
</h2><p>This function can be invoked by using the <code>code</code> keyword accepting following
plain arguments:
</p><ul><li><code>lang</code>: Name of the language of the content.
</li></ul><p>Literal text should be sent as argument, if a rich component is sent, it will
be converted to plain text throwing a warning.
</p><p>If the language is supported by some registered grammar, the result will be
tokenized, otherwise the result will be just marked as a code block.
</p></section><section id="images"><h2 data-number="4.2.">Images
</h2><p>This function can be invoked by using the <code>img</code> and <code>image</code> keywords, 
accepting following plain arguments:
</p><ul><li><code>src</code>: Location of the image.
</li><li><code>alt</code>: Alternative text describing the image.
</li></ul><p>The resulting component will be an image inserted in the document.
</p></section><section id="embed-content"><h2 data-number="4.3.">Embed Content
</h2><p>This function can be invoked by using the <code>embed</code> keyword,
accepting following plain arguments:
</p><ul><li><code>src</code>: Location of the file to embed.
</li></ul><p>The resulting component will be a literal text with the content of the file. 
</p><div data-type="information"><p>For embed the components of a STX file, 
the directive <code>include</code> should be used.
</p></div></section><section id="table-of-contents"><h2 data-number="4.4.">Table of Contents
</h2><p>This function can be invoked by using the <code>toc</code> keyword,
accepting following plain arguments:
</p><ul><li><code>title</code>: The title of the table of contents.
</li></ul><p>The resulting component will be a table of contents of all sections defined
in the document.
</p></section><section id="admonitions"><h2 data-number="4.5.">Admonitions
</h2><p>This function can be invoked by using the <code>information</code> and <code>warning</code> keywords.
</p><p>The resulting component will be a block marked as an admonition of the type 
of the keyword.
</p></section></section><section id="data-syntax"><h1 data-number="5.">Data Syntax
</h1><p>Apart from the rich content of the components, in STX there is a syntax for 
entering structured data which is used to invoke and pass arguments to 
functions, define directives and attributes, among other uses.
</p><p>This way of entering data is designed to be easy to write and read for a
human, it consists in three types of data described below.
</p><section id="token"><h2 data-number="5.1.">Token
</h2><p>Represents a final value, depending on the context it can be interpreted as 
text, number, boolean, etc.
</p><p>There are two ways of writing a token:
</p><ol><li><strong>Direct</strong>: Any sequence of letters, digits, underscores (<code>_</code>), dashes (<code>-</code>),
periods (<code>.</code>) or slashes (<code>/</code>).
</li><li><strong>Delimited</strong>: Any sequence of characters between grave accents (<code>`</code>), special
characters can be scaped by using a <code>\</code>.
</li></ol><figure id="example-of-valid-tokens-one-per-line-"><pre data-type="programlisting">012
abc
` `
assets/example.txt
</pre><figcaption data-number="25.">Example of valid tokens (one per line).
</figcaption></figure></section><section id="entry"><h2 data-number="5.2.">Entry
</h2><p>An entry represents a named value, the name is defined by using a <a href="#token" data-type="xref">token</a> 
followed by a <code>:</code> (colon symbol) as a separator, the value can be either a 
<a href="#token" data-type="xref">token</a> or a <a href="#group" data-type="xref">group</a>. When the value is a group, the separator can be omitted.
</p><figure id="example-of-valid-entries-one-per-line-"><pre data-type="programlisting">genre: jazz
song(artist: `Miles Davis`, name: `So What`)
fibonacci(0, 1, 1, 2, 3, 5, 8, 13, 21, ...)
file: folder/index.html
</pre><figcaption data-number="26.">Example of valid entries (one per line).
</figcaption></figure></section><section id="group"><h2 data-number="5.3.">Group
</h2><p>Sequence of values (<a href="#token" data-type="xref">token</a>, <a href="#entry" data-type="xref">entry</a> or <a href="#group" data-type="xref">group</a>) delimited by parenthesis <code>()</code>
and separated by a comma (<code>,</code>).
</p><figure id="example-of-valid-groups-one-per-line-"><pre data-type="programlisting">genre: jazz
song(artist: `Miles Davis`, name: `So What`)
fibonacci(0, 1, 1, 2, 3, 5, 8, 13, 21, ...)
file: folder/index.html
</pre><figcaption data-number="27.">Example of valid groups (one per line).
</figcaption></figure><p><script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script type="text/javascript">
    // create layout
    (() => {
        $('body').append('<div id="layout-center"><main></main></div>');
        $('main:first-of-type').append($('body > :not(#layout-center)'));
        $('<div id="layout-start"></div>').insertBefore($('#layout-center'));
        $('#layout-start').append($('[data-type=toc]:first'));

        ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].forEach(tag => {
            for (var element of document.getElementsByTagName(tag)) {
                var id = element.parentElement.getAttribute('id');
                if (id) {
                    var anchor = document.createElement('a')
                    anchor.setAttribute('href', `#${id}`);
                    anchor.className = 'section-mark';
                    anchor.innerHTML = '&sect;';
                    element.appendChild(anchor)
                }
            }
        });
    })();
    
    // activate toc links
    (() => {
        function isElementInViewport(el) {
            var rect = el.getBoundingClientRect();
            return (
                rect.top >= 0 &&
                rect.left >= 0 &&
                rect.top <= (window.innerHeight || document.documentElement.clientHeight) &&
                rect.left <= (window.innerWidth || document.documentElement.clientWidth)
            );
        }

        var references = [];

        $('[data-type=toc]:first a[data-type=xref]').each((index, source) => {
            var href = $(source).attr('href');
            
            if (href && href.startsWith('#')) {
                var id = href.substring(1);
                var target = document.getElementById(id);

                if (target) {
                    references.push({source, target});
                }
            }
        });

        $(window).on('DOMContentLoaded load resize scroll', () => {
            var visibleTarget = null;

            for (var ref of references) {
                if(isElementInViewport(ref.target)) {
                    visibleTarget = ref.target
                    break;
                }
            }

            for (var ref of references) {
                if (ref.target === visibleTarget) {
                    $(ref.source).addClass('active')
                }
                else {
                    $(ref.source).removeClass('active');
                }
            }
        });
    })();
</script>

</p></section></section></body></html>